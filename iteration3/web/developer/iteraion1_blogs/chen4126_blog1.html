<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf8">
        <style>
        	h1 {color:purple; text-align: center;}
        	p {color: red; text-align: center;}
			div.code_snippet {color:blue;}
			div.comment {color:black;}	
		</style>
		<title>chen4162_Blog_Entries</title>
	</head>	
	<body>
		<h1>The Blog Entries of chen4162 for BrushWork Iteration 1</h1>
		<h3>Date: March 2, 2016<br><br></h3>
			<a href="../programblog.html" class = "page"> Go back </a> 

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 1</p>

class StampSpecial : public Tool {
  public:
    StampSpecial();
    ~StampSpecial();
};
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the StampSpecial class in the StampSpecial.h file, which is one of the seven classes I wrote for our team.
(2) The purpose for me to write the snippet is to create the .h file with declarations for the StampSpecial class, and then we can use the special tool which is a stamp. 
Actually the StampSpeial class is inherited from the Tool class since the stamp is one of the tools. Then I just created a constructor and a destructor for the StampSpecial class so that we can make a construction and a destruction respectively for the class. 
I used a class style for this snippet.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 2</p>

StampSpecial::StampSpecial() {

	maskHeight = 81;
	maskWidth = 81;
	centerX = 41;
	centerY = 41;

	int k, b;

	// initialize array with ones
	mask = new float* [maskHeight];
	for (int i = 0; i < maskHeight; i++) {
		mask[i]= new float[maskWidth];
		for (int j = 0; j < maskWidth; j++) {
			mask[i][j] = 1;
		}
	}

	// set some places to be transparent as a feature of the stamp.
	for (k = 5; k < maskHeight/2; k = k+10)
	{
		for (b = 0; b < (maskWidth/2-k); b++)
		{
			mask[k][centerX-1+b] = 0;
			mask[k][centerX-1-b] = 0;
			mask[k+1][centerX-1+b] = 0;
			mask[k+1][centerX-1-b] = 0;
			mask[k+2][centerX-1+b] = 0;
			mask[k+2][centerX-1-b] = 0;
			mask[k+3][centerX-1+b] = 0;
			mask[k+3][centerX-1-b] = 0;
			mask[k+4][centerX-1+b] = 0;
			mask[k+4][centerX-1-b] = 0;

			mask[centerX-1+b][k] = 0;
			mask[centerX-1-b][k] = 0;
			mask[centerX-1+b][k+1] = 0;
			mask[centerX-1-b][k+1] = 0;
			mask[centerX-1+b][k+2] = 0;
			mask[centerX-1-b][k+2] = 0;
			mask[centerX-1+b][k+3] = 0;
			mask[centerX-1-b][k+3] = 0;
			mask[centerX-1+b][k+4] = 0;
			mask[centerX-1-b][k+4] = 0;
		}
	}

	for (k = maskHeight-5; k > maskHeight/2; k = k-10)
	{
		for (b = 0; b < (k - maskWidth/2); b++)
		{
			mask[k][centerX-1+b] = 0;
			mask[k][centerX-1-b] = 0;
			mask[k-1][centerX-1+b] = 0;
			mask[k-1][centerX-1-b] = 0;
			mask[k-2][centerX-1+b] = 0;
			mask[k-2][centerX-1-b] = 0;
			mask[k-3][centerX-1+b] = 0;
			mask[k-3][centerX-1-b] = 0;
			mask[k-4][centerX-1+b] = 0;
			mask[k-4][centerX-1-b] = 0;
			mask[centerX-1+b][k] = 0;
			mask[centerX-1-b][k] = 0;
			mask[centerX-1+b][k-1] = 0;
			mask[centerX-1-b][k-1] = 0;
			mask[centerX-1+b][k-2] = 0;
			mask[centerX-1-b][k-2] = 0;
			mask[centerX-1+b][k-3] = 0;
			mask[centerX-1-b][k-3] = 0;
			mask[centerX-1+b][k-4] = 0;
			mask[centerX-1-b][k-4] = 0;
		}
	}
}
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the StampSpecial class in the StampSpecial.cpp file, which is one of the seven classes I wrote for our team.
(2) The purpose for me to write the snippet is to create the .cpp file with definitions for the StampSpecial class, and then we can use the special tool which is a stamp. 
In the definition of the constructor, firstly I built the height, width, centers and mask variables with fixed types and values. And then I used the first double for loop to give value 1 to every element in the mask array. Next the two double for loops were created to get special stripes in a square stamp. 
I used a constructor definition style in a class for this snippet.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 3</p>

Stam = new StampSpecial();

ToolArray[ToolCount++] = Stam;
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the BrushWorkApp class in the BrushWorkApp.cpp file. Both of them are from the constructor. 
(2) The purpose for me to write the snippet is to put the stamp tool into the tool array, and then we can use the special tool by calling the corresponding element in the tool array. 
For the first line, I dynamically allocated a memory for the stamp tool. And then by giving the stamp object to an array, I put the stamp into the tool array in order in the second line.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 4</p>

BrushWorkApp::~BrushWorkApp() { // in function BrushWorkApp::~BrushWorkApp()
	if (m_displayBuffer) {
		delete m_displayBuffer;
	}

	if (Cal) {
		delete Cal;
	}
	
	if (Sp){
		delete Sp;
	}
	
	if (Pen1){
		delete Pen1;
	}
	
	if (High){
		delete High;
	}
	
	if (Era){
		delete Era;
	}
	
	if (Stam){
		delete Stam;
	}
	
	if (ToolArray){
		delete [] ToolArray;
	}
}
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the BrushWorkApp class in the BrushWorkApp.cpp file. It is the destructor definition. 
(2) The purpose for me to write the snippet is to delete the dynamically allocating memories for all of the new objects. 
Here I used several if-clauses to delete the dynamically allocating memories. For this snippet, I used the destructor style.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 5</p>

if (ToolArray[m_curTool] != Stam) {}

new GLUI_RadioButton(radio, "Stamp (Special Tool)");
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the BrushWorkApp class in the BrushWorkApp.cpp file. 
The 1st line is from the mouseDragged function and the 2nd line is from the initGlui function. 
(2) The purpose for me to write the 1st line is to disable the stamp tool to drag with trace by using an if-clause. 
And in the 2nd line, I just created the interface button for the stamp tool.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 6</p>

Tool * Stam;
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the BrushWorkApp class in the BrushWorkApp.h file.
(2) The purpose for me to write the code is to add a pointer variable of stamp tool in the .h file. 
The type for the *Stam object is Tool.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 7</p>

for (int i = 0; i < maskHeight; i++) {
	delete [] mask[i];
}
delete [] mask;

			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the Calligraphy, Eraser, Highlighter, Pen, Spray, and StampSpecial classes in the Calligraphy.cpp, Eraser.cpp, Highlighter.cpp, Pen.cpp, Spray.cpp and StampSpecial.cpp respectively. 
All of them are in the destructors.
(2) The purpose for me to write the code is to delete the dynamically allocating memory for the mask double-dimension array in each tool class. 
I used a for loop to delete the double-dimension array's dynamically allocating memory. 
Here I put the deleting in the destructor and used a destructor coding style.
			</pre>
		</div>
	<a href="../programblog.html" class = "page"> Go back to Program Blog Page</a> 

	</body>
</html>
