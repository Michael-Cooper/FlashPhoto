<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf8">
        <style>
        	h1 {color:purple; text-align: center;}
        	p {color: red; text-align: center;}
			div.code_snippet {color:blue;}
			div.comment {color:black;}	
		</style>
		<title>chen4162_Blog_Entries</title>
	</head>	
	<body>
		<h1>The Blog Entries of chen4162 for Iteration 3</h1>
		<h3>Date: May 6, 2016<br><br></h3>
		
		<a href="../programblog.html" class = "page"> Go back </a>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 1</p>

loadCanvasEnabled(true);
if (index == 7)
{
	m_fileName = "images/in0.png";
	loadImageToCanvas();
}
if (index == 6)
{
	loadStampEnabled(true);
	m_fileName = "images/colorCircles.png";
	loadImageToStamp();
	m_curColorRed = 1.0;
	m_curColorGreen = 1.0;
	m_curColorBlue = 1.0;
}
m_curTool = index;
	
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the testTool function of testFlashPhoto class in the testFlashPhoto.cpp file.
I created the testFlashPhoto class by copying the files from the Flashphoto class and insert the testing codes into it to produce some output images and test the FlashPhoto tools.
(2) The purpose for me to write the snippet is to load some images and prepare for producing the required output images.
Firstly I set the parameter to be true in the loadCanvasEnabled function to enable loading canvas. 
Next, I use two if clauses. The condition of the 1st clause is index == 7 which means the tool now is blur. So I can load a colorful image to improve the efficiency for it.
The second clause has a condition of index == 6 and the tool is a stamp. For using stamp, I need to load an image to be the stamp and set the background colors.
Lastly I just set the current tool according to the current index.

pen, eraser, spray can, caligraphy pen, highlighter, chalk, stamp, blur
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 2</p>

leftMouseDown(200,200);
if (index == 1)
{
	m_curTool = 0;
	leftMouseDown(200,200);
	mouseDragged(220,220);
	mouseDragged(240,240);
	mouseDragged(260,260);
	mouseDragged(280,280);
	mouseDragged(300,300);
	mouseDragged(320,320);
	mouseDragged(340,340);
	mouseDragged(360,360);
	leftMouseUp(360,360);
	
	m_curTool = index;
	leftMouseDown(200,200);
	mouseDragged(220,220);
	mouseDragged(240,240);
	mouseDragged(260,260);
	mouseDragged(280,280);
	leftMouseUp(280,280);
}

else if (index == 2 || index == 7)
{
	mouseDragged(220,220);
	mouseDragged(225,225);
	mouseDragged(230,230);
	mouseDragged(235,235);
	mouseDragged(240,240);
	mouseDragged(245,245);
	mouseDragged(250,250);
	mouseDragged(255,255);
	mouseDragged(260,260);
	mouseDragged(265,265);
	mouseDragged(270,270);
	mouseDragged(275,275);
	mouseDragged(280,280);
	mouseDragged(285,285);
	mouseDragged(290,290);
	mouseDragged(295,295);
	mouseDragged(300,300);
	leftMouseUp(300,300);
}

else if (index == 6)
{
	mouseDragged(220,220);
	leftMouseUp(220,220);
}

else
{
	mouseDragged(220,220);
	mouseDragged(240,240);
	mouseDragged(260,260);
	mouseDragged(280,280);
	mouseDragged(300,300);
	mouseDragged(320,320);
	mouseDragged(340,340);
	mouseDragged(360,360);
	leftMouseUp(360,360);
}

			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the testTool function of testFlashPhoto class in the testFlashPhoto.cpp file.
(2) The purpose for me to write the snippet is to draw the lines on the canvas according to different tools.
Firstly I use the leftMouseDown function to determine the first point. 
Then for different index, I use the mouseDragged function to drag different lines. 
For index == 1, the current tool is eraser. So I just set the tool as a pen (index == 0) to draw a line and then erase half of it.
For index == 2 and 7, the current tools are spray can and blur respectively. In these cases, in order to make a good effect, I use more dragging to strengthen the visual effect.
Then for index == 6, the current tool is stamp. Since the stamp has no dragging, I just use one mouseDragged.
Otherwise, I just use many mouseDragged functions to draw a line.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 3</p>

saveCanvasEnabled(true);
m_fileName = std::string("images/")+name(index);
saveCanvasToFile();

initializeBuffers(ColorData(1,1,0.95),400,400);

loadCanvasEnabled(false);
loadStampEnabled(false);
saveCanvasEnabled(false);

			</pre>
		</div>
		<div class = "comment">
			<pre>
(1)	This snippet is from the testTool function of testFlashPhoto class in the testFlashPhoto.cpp file.
(2) The purpose for writing the snippet is to save the completed image as the output image by using the saveCanvasToFile function.
And I use a helper function "name" to give the output image an intended name.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 4</p>

std::string testFlashPhoto::name(int index)
{
	std::string name = "out2";
	std::stringstream n;
	n << index;
	name += n.str() + ".png";
	return name;
}

			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is the name function of testFlashPhoto class in the testFlashPhoto.cpp file.
(2) The purpose for me to write the function is to give intended names to the output images.
I want to set all of the output images' names as "out2X".
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 5</p>

void testFlashPhoto::runTests()
{
	for (int i=0; i<8; i++)
	{
		if (i != 5)
		{
			testTool(i);
		}
	}
	exit(0);
}

			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is the runTests function of testFlashPhoto class in the testFlashPhoto.cpp file.
(2) The purpose for me to write the code is to start the program by locating it into the constructor of the testFlashPhoto class.
And I use a for loop to pick up the index of the tool and return it as the parameter of the testTool function and name function.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 6</p>

test_pentool: $(MIA_EXEC) test_mia
	@cd $(MIA_PATH); echo; \
	./Mia $(REL_IMG)/out20.png -compare $(REL_IMG)/std20.png; \
	if [ $$? -eq 2 ]; \
	then echo "FAIL: test_pen_tool"; echo; \
	else echo "PASS: test_pen_tool"; echo; \
	fi; \
	
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the makefile in the tests directory.
(2) The purpose for me to write the code is to test the pen tool.
I compare the output image created by the tool with a pre-saved image by using the compare command in MIA.
If they are identical, the MIA return exit(0), then the testing is PASS which means the tool works well.
Otherwise the MIA return exit(2), the testing is FAIL.
			</pre>
		</div>

		<div class = "code_snippet">
			<pre>
<p>Code Snippet 7</p>

test_blurfilter: $(MIA_EXEC) test_mia
	@cd $(MIA_PATH); echo; \
	./Mia $(REL_IMG)/in0.png -blur 6.5 $(REL_IMG)/out0.png; \
	./Mia $(REL_IMG)/out0.png -compare $(REL_IMG)/std0.png; \
	if [ $$? -eq 2 ]; \
	then echo "FAIL: test_blur_filter"; echo; \
	else echo "PASS: test_blur_filter"; echo; \
	fi; \
	
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the makefile in the tests directory.
(2) The purpose for me to write the code is to test the blur filter.
I use the MIA command to blur the in0 image and save the output image as out0.
And then I compare the output image with the pre-saved image by using the compare command in MIA.
If they are identical, the MIA return exit(0), then the testing is PASS which means the filter works well.
Otherwise the MIA return exit(2), the testing is FAIL.
			</pre>
		</div>
		
		<div class = "code_snippet">
			<pre>
<p>Code Snippet 8</p>

test_jpgtopng: $(MIA_EXEC) test_mia
	@cd $(MIA_PATH); echo; \
	./Mia $(REL_IMG)/in0.jpg $(REL_IMG)/out10.png; \
	./Mia $(REL_IMG)/out10.png -compare $(REL_IMG)/std10.png; \
	if [ $$? -eq 2 ]; \
	then echo "FAIL: test_valid_jpg_to_png_command"; echo; \
	else echo "PASS: test_valid_jpg_to_png_command"; echo; \
	fi; \
	
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the makefile in the tests directory.
(2) The purpose for me to write the code is to test the valid jpg_to_png command in MIA.
I use the MIA jpg_to_png command to convert the jpg image to a png image.
And then I compare the output image with the pre-saved image by using the compare command in MIA.
If they are identical, the MIA return exit(0), then the testing is PASS which means the valid MIA command works well.
Otherwise the MIA return exit(2), the testing is FAIL.
			</pre>
		</div>
		
		<div class = "code_snippet">
			<pre>
<p>Code Snippet 9</p>

test_jpgtopng1: $(MIA_EXEC) test_mia
	@cd $(MIA_PATH); echo; echo; \
	./Mia $(REL_IMG)/out40.jpg $(REL_IMG)/in40.png; \
	if [ $$? -eq 1 ]; \
	then echo "PASS: test_invalid_jpg_to_png_command (invalid input file)"; echo; echo; \
	else echo "FAIL: test_invalid_jpg_to_png_command (invalid input file)"; echo; echo; \
	fi; \
	./Mia $(REL_IMG)/in1.png error $(REL_IMG)/out41.png; \
	if [ $$? -eq 1 ]; \
	then echo "PASS: test_invalid_jpg_to_png_command (invalid output file)"; echo; echo; \
	else echo "FAIL: test_invalid_jpg_to_png_command (invalid output file)"; echo; echo; \
	fi; \
	./Mia $(REL_IMG)/in1.png $(REL_IMG)/out42.png error; \
	if [ $$? -eq 1 ]; \
	then echo "FAIL: test_invalid_jpg_to_png_command (extra arguments)"; echo; echo; \
	else echo "PASS: test_invalid_jpg_to_png_command (extra arguments)"; echo; echo; \
	fi; \
	
			</pre>
		</div>
		<div class = "comment">
			<pre>
(1) This snippet is from the makefile in the tests directory.
(2) The purpose for me to write the code is to test the invalid jpg_to_png command in MIA.
I list three different invalid jpg_to_png MIA command by typing three invalid input.
And then I just see what happend.
If the MIA return exit(1), then the testing is PASS for the first 2 cases which means the tool works well and FAIL for the last case.
Otherwise the MIA return exit(0), the testing is FAIL for the first 2 cases and PASS for the last case.
			</pre>
		</div>
		<a href="../programblog.html" class = "page"> Go back to Program Blog Page</a> 

	</body>
</html>
